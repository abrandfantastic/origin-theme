(window.webpackJsonp=window.webpackJsonp||[]).push([[53],{699(t,e,n){"use strict";n.r(e);const r=n(0); const o=(n(16),n(62)); const l=n(40); const c={mixins:[o.validationMixin],data(){return{email:"",password:"",isProcessing:!1}},head(){return{title:"Login"}},activated(){this.$v.$reset()},methods:{login(){const t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){let n,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t.$v.$touch(),!t.$v.$invalid){e.next=4;break}return e.abrupt("return");case 4:return t.isProcessing=!0,n=t.email,r=t.password,e.next=8,t.$swell.account.login(n,r);case 8:if(o=e.sent,t.isProcessing=!1,o&&o!==null){e.next=12;break}throw new Error("Error");case 12:t.$store.dispatch("showNotification",{message:t.$t("account.login.success")}),t.$router.push(t.localePath("/account/orders/")),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),t.$store.dispatch("showNotification",{message:t.$t("account.login.error"),type:"error"});case 19:case"end":return e.stop()}}),e,null,[[0,16]])})))()}},validations:{email:{required:l.required,email:l.email},password:{required:l.required}}}; const d=n(3); const component=Object(d.a)(c,(function(){const t=this; const e=t.$createElement; const n=t._self._c||e;return n("div",{staticClass:"container relative pt-6 pb-24 md:max-w-112 md:pt-24",on:{keyup(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.login.apply(null,arguments)}}},[n("h2",{staticClass:"pb-6"},[t._v(t._s(t.$t("account.login.title")))]),t._v(" "),n("div",{staticClass:"mb-6"},[n("InputText",{staticClass:"mb-2",attrs:{label:t.$t("account.login.email.label"),placeholder:t.$t("account.login.email.placeholder"),name:"email",autocomplete:"email"},model:{value:t.email,callback(e){t.email=e},expression:"email"}}),t._v(" "),t.$v.email.$dirty?[t.$v.email.email?t.$v.email.required?t._e():n("span",{staticClass:"label-sm text-error-default"},[t._v(t._s(t.$t("account.login.email.required")))]):n("span",{staticClass:"label-sm text-error-default"},[t._v(t._s(t.$t("account.login.email.format")))])]:t._e()],2),t._v(" "),n("div",{staticClass:"mb-6"},[n("InputText",{staticClass:"mb-2",attrs:{label:t.$t("account.login.password.label"),type:"password",placeholder:t.$t("account.login.password.placeholder"),name:"currentPassword",autocomplete:"current-password"},model:{value:t.password,callback(e){t.password=e},expression:"password"}}),t._v(" "),t.$v.password.$dirty?[t.$v.password.required?t._e():n("span",{staticClass:"label-sm text-error-default"},[t._v(t._s(t.$t("account.login.password.required")))])]:t._e()],2),t._v(" "),n("NuxtLink",{staticClass:"text-xs font-semibold leading-tight text-primary-dark",attrs:{to:t.localePath("/account/forgot-password/")}},[t._v("\n    "+t._s(t.$t("account.login.forgotPassword"))+"\n  ")]),t._v(" "),n("BaseButton",{staticClass:"mt-6 mb-4",attrs:{appearance:"dark",label:t.$t("account.login.button.label"),"loading-label":t.$t("account.login.button.loadingLabel"),"is-loading":t.isProcessing},nativeOn:{click(e){return t.login()}}}),t._v(" "),n("BaseButton",{staticClass:"mt-6 mb-4",attrs:{appearance:"light",label:t.$t("account.login.createAccount"),link:{url:t.localePath("/account/create-account/"),title:"Create Account"}}})],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{InputText:n(308).default,BaseButton:n(86).default})}}]);